# Context 设定

## 摘要

在让 AI 产出可落地代码之前，先提供真实业务背景、目标模块边界和可变更范围，可以显著降低返工成本。

## 详细内容

### 业务背景

在 Vibe Coding 场景下，AI 往往能快速给出“看起来能跑”的代码，但如果上下文信息不完整，产物通常不符合真实业务约束，例如：改错模块、破坏既有接口、忽略数据一致性。

### 实施要点

- 明确任务目标：先告诉 AI 这是“修复问题”“加功能”还是“做迁移脚本”。
- 锁定修改边界：指定可以改哪些目录、哪些文件不允许动。
- 给出系统约束：数据库、部署方式、上线模式（如本项目“本地编辑 + 线上只读”）。
- 提供验收标准：包括构建命令、测试命令、页面行为预期。

### 推荐提示模板

```text
目标：补齐本地 Markdown -> PostgreSQL -> read-model 的同步闭环
边界：仅改 web/tools/knowledge-sync 与 web/src/data，禁止修改无关模块
约束：线上只读，不新增在线编辑接口
验收：check_errors/test/dev 全通过，read-model 能展示正文
```

### 风险与边界

- 只给“想做什么”，不给“不能做什么”，AI容易越界改动。
- 缺少验收标准时，结果可能“看着合理但无法上线”。
- 上下文过长且无层次，会造成关键约束被淹没。
