# 模块化设计

## 摘要

模块化不是技术洁癖，而是业务降本：让改动可定位、可替换、可回滚，减少跨模块副作用。

## 详细内容

### 业务背景

当知识系统同时包含前端展示、数据同步、文档管理时，若没有模块边界，小改动会引发大面积回归，维护成本快速失控。

### 本项目的模块化策略

- 展示层：`web/src/components/`
- 读取层：`web/src/data/`
- 同步层：`web/tools/knowledge-sync/`
- 内容层：`docs/knowledge/`

### 设计原则

- 同步逻辑只放在 `knowledge-sync` 子模块，不渗透到 UI。
- 线上只读模型统一由 `read-model.json` 提供。
- 本地编辑只改 Markdown 与数据库，不直接手改前端数据文件。

### 风险与边界

- 模块边界模糊时，后续双向同步会非常难做冲突治理。
- 把实验代码放到高层目录会增加长期迁移成本。
